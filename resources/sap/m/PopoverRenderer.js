/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/Device","sap/m/library","sap/ui/dom/getScrollbarSize","sap/ui/core/IconPool"],function(e,o,t,a){"use strict";var s=o.PlacementType;var r={apiVersion:2};r.render=function(e,o){e.openStart("div",o);var t=this.generateRootClasses(o);t.forEach(function(o){e.class(o)});if(!o.getHorizontalScrolling()){e.class("sapMPopoverHorScrollDisabled")}if(!o.getVerticalScrolling()){e.class("sapMPopoverVerScrollDisabled")}var a=o.getTooltip_AsString();if(a){e.attr("title",a)}e.attr("tabindex","-1").accessibilityState(o,o._getAccessibilityOptions()).openEnd();if(o.getResizable()){e.icon("sap-icon://resize-corner",["sapMPopoverResizeHandle"],{title:""})}this.renderContent(e,o);e.close("div")};r.isButtonFooter=function(e){if(e instanceof sap.m.Bar){var o=e.getContentLeft(),t=e.getContentRight(),a=e.getContentMiddle(),s=!o||o.length===0,r=!t||t.length===0,n=false;if(a&&a.length===2){if(a[0]instanceof sap.m.Button&&a[1]instanceof sap.m.Button){n=true}}return s&&r&&n}else{return false}};r.renderContent=function(o,a){var s=a._getAnyHeader(),r=a.getId(),n=0,i=a._getAllContent(),p=a.getFooter(),l=a.getSubHeader(),c=a.getContentWidth(),d=a.getContentMinWidth(),g=a.getContentHeight();if(e.system.desktop){o.openStart("span",a.getId()+"-firstfe").class("sapMPopoverHiddenFocusable").attr("tabindex","0").openEnd().close("span")}if(s){o.openStart("header").class("sapMPopoverHeader").openEnd();if(s._applyContextClassFor){s._applyContextClassFor("header")}o.renderControl(s);o.close("header")}if(l){o.openStart("header").class("sapMPopoverSubHeader").openEnd();if(l._applyContextClassFor){l._applyContextClassFor("subheader")}o.renderControl(l);o.close("header")}o.openStart("div",r+"-cont");if(c){o.style("width",c)}if(d){o.style("min-width",d)}if(g){o.style("height",g)}o.class("sapMPopoverCont");if(sap.ui.getCore().getConfiguration().getAccessibility()&&a.getProperty("ariaRoleApplication")){o.attr("role","application")}o.openEnd();o.openStart("div",a.getId()+"-scroll").class("sapMPopoverScroll");if(!a.getHorizontalScrolling()){o.style(sap.ui.getCore().getConfiguration().getRTL()?"margin-left":"margin-right",t().width+"px")}o.openEnd();for(n=0;n<i.length;n++){o.renderControl(i[n])}o.close("div");o.close("div");if(p){o.openStart("footer").class("sapMPopoverFooter");if(this.isButtonFooter(p)){o.class("sapMPopoverSpecialFooter")}o.openEnd();if(p._applyContextClassFor){p._applyContextClassFor("footer");p.addStyleClass("sapMTBNoBorders")}o.renderControl(p);o.close("footer")}if(a.getShowArrow()){o.openStart("span",r+"-arrow").class("sapMPopoverArr").openEnd().close("span")}if(e.system.desktop){o.openStart("span",a.getId()+"-middlefe").class("sapMPopoverHiddenFocusable").attr("tabindex","-1").openEnd().close("span");o.openStart("span",a.getId()+"-lastfe").class("sapMPopoverHiddenFocusable").attr("tabindex","0").openEnd().close("span")}};r.generateRootClasses=function(e){var o=["sapMPopover"],t=e.getSubHeader(),a=e.getFooter(),r=e.getVerticalScrolling()&&!e._forceDisableScrolling,n=e.getHorizontalScrolling()&&!e._forceDisableScrolling,i=e._getAnyHeader();if(i){o.push("sapMPopoverWithBar")}else{o.push("sapMPopoverWithoutBar")}if(t){o.push("sapMPopoverWithSubHeader")}else{o.push("sapMPopoverWithoutSubHeader")}if(e._hasSingleNavContent()){o.push("sapMPopoverNav")}if(e._hasSinglePageContent()){o.push("sapMPopoverPage")}if(a){o.push("sapMPopoverWithFooter")}else{o.push("sapMPopoverWithoutFooter")}if(e.getPlacement()===s.Top){o.push("sapMPopoverPlacedTop")}if(!r){o.push("sapMPopoverVerScrollDisabled")}if(!n){o.push("sapMPopoverHorScrollDisabled")}o.push("sapMPopup-CTX");if(e._bSizeCompact){o.push("sapUiSizeCompact")}return o.concat(e.aCustomStyleClasses)};return r},true);