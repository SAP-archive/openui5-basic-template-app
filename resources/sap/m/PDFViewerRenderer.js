/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/Device","sap/base/Log"],function(e,r){"use strict";function t(e){return(!!e.getTitle()||e._isDisplayDownloadButton())&&!e._bIsPopupOpen}var i=Object.freeze(["application/pdf","application/x-google-chrome-pdf"]);var n={};n._isSupportedMimeType=function(e){var r=i.indexOf(e);return r>-1};n._isPdfPluginEnabled=function(){var r=true;if(e.browser.firefox){return r}if(e.browser.internet_explorer){try{new ActiveXObject("AcroPDF.PDF")}catch(e){r=false}return r}var t=navigator.mimeTypes;if(t.length){r=i.some(function(e){var r=t.namedItem(e);return r!==null})}else{if(e.browser.chrome){return r}}return r};n.render=function(e,r){e.write("<div");e.writeControlData(r);e.addStyle("width",r._getRenderWidth());e.addStyle("height",r._getRenderHeight());e.writeStyles();e.writeClasses();this._writeAccessibilityTags(e,r);e.write(">");if(t(r)){e.renderControl(r._objectsRegister.getOverflowToolbarControl())}if(r._isEmbeddedModeAllowed()){this.renderPdfContent(e,r)}e.write("</div>")};n._writeAccessibilityTags=function(e,r){e.writeAttribute("role","document");e.writeAttribute("aria-label",r._getLibraryResourceBundle().getText("PDF_VIEWER_ACCESSIBILITY_LABEL"))};n.renderPdfContent=function(e,i){if(i._shouldRenderPdfContent()){e.write("<iframe");e.addClass("sapMPDFViewerContent");e.addClass("sapMPDFViewerLoading");if(t(i)){e.addClass("sapMPDFViewerReducedContent")}e.writeClasses();e.write(">");e.write("</iframe>")}else{this.renderErrorContent(e,i);if(!n._isPdfPluginEnabled()){r.warning("The PDF plug-in is not available on this device.");i.fireEvent("error",{},true)}}};n.renderErrorContent=function(e,r){var t=r.getErrorPlaceholder()?r.getErrorPlaceholder():r._objectsRegister.getPlaceholderMessagePageControl();e.write("<div");e.addClass("sapMPDFViewerError");if(!r._bIsPopupOpen){e.addClass("sapMPDFViewerEmbeddedContent")}e.writeClasses();e.write(">");e.renderControl(t);e.write("</div>")};return n},true);