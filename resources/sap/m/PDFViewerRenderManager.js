/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/library","sap/m/Dialog","sap/m/Button","sap/m/MessagePage","sap/m/OverflowToolbar","sap/m/OverflowToolbarButton","sap/m/Title","sap/m/ToolbarSpacer","sap/m/OverflowToolbarLayoutData"],function(t,e,o,n,r,s,i,a,l){"use strict";var u=t.OverflowToolbarPriority;var p=t.ButtonType;var d={extendPdfViewer:function(t){t.prototype._initPopupControl=function(){var t=this;var n={contentHeight:"100%",contentWidth:"100%",horizontalScrolling:false,verticalScrolling:false,showHeader:true,buttons:[],afterClose:t._onAfterPopupClose.bind(t)},r=t.getId()+"-popup",s=r+"-popupCloseButton",i="getPopupCloseButton",a="getPopup";this._objectsRegister[i]=function(){var e=new o(s,{text:"",press:function(){t._objectsRegister.getPopup().close()}});t._objectsRegister[i]=function(){return e};return e};this._objectsRegister[a]=function(o){if(o===true){return null}var s=new e(r,n);s.addStyleClass("sapUiContentPadding");t._objectsRegister[a]=function(){return s};return s}};t.prototype._preparePopup=function(t){var e=this.getPopupButtons().slice(),o=this._objectsRegister.getPopupCloseButton(),n=this._objectsRegister.getPopupDownloadButtonControl();o.setText(this._getLibraryResourceBundle().getText("PDF_VIEWER_POPUP_CLOSE_BUTTON"));if(this.getShowDownloadButton()){e.push(n)}e.push(o);t.removeAllButtons();e.forEach(function(e){t.addButton(e)});t.setShowHeader(true);if(this.getPopupHeaderTitle()){t.setTitle(this.getPopupHeaderTitle())}if(this.getTitle()){t.setTitle(this.getTitle())}};t.prototype._initPlaceholderMessagePageControl=function(){var t=this,e="getPlaceholderMessagePageControl";this._objectsRegister[e]=function(){var o=new n({showHeader:false,text:t._getMessagePageErrorMessage(),description:""});t._objectsRegister[e]=function(){o.setText(t._getMessagePageErrorMessage());return o};return o}};t.prototype._initOverflowToolbarControl=function(){var t=this,e=this.getId()+"-overflowToolbar",o=e+"-title",n="getOverflowToolbarControl";this._objectsRegister[n]=function(s){if(s===true){return null}var p=new r(e,{}),d=new i(o,{text:t.getTitle()}),g=t._objectsRegister.getToolbarDownloadButtonControl();function c(){if(t._isDisplayDownloadButton()){p.addContent(g)}else{p.removeContent(g)}g.setEnabled(t._bRenderPdfContent);d.setText(t.getTitle())}p.addStyleClass("sapUiTinyMarginBottom");p.addContent(d);p.addContent(new a);c();g.setLayoutData(new l({priority:u.NeverOverflow}));t._objectsRegister[n]=function(t){if(!t){c()}return p};return p}};t.prototype._initToolbarDownloadButtonControl=function(){var t=this,e=this.getId()+"-toolbarDownloadButton",o="getToolbarDownloadButtonControl";this._objectsRegister[o]=function(n){if(n){return null}var r=new s(e,{type:p.Transparent,icon:"sap-icon://download"});r.attachPress(t.downloadPDF.bind(t));r.setEnabled(t._bRenderPdfContent);t._objectsRegister[o]=function(){r.setEnabled(t._bRenderPdfContent);return r};return r}};t.prototype._initPopupDownloadButtonControl=function(){var t=this,e=this.getId()+"-popupDownloadButton",n="getPopupDownloadButtonControl";this._objectsRegister[n]=function(){var r=new o(e,{text:t._getLibraryResourceBundle().getText("PDF_VIEWER_DOWNLOAD_TEXT"),type:p.Emphasized});r.attachPress(t.downloadPDF.bind(t));r.setEnabled(t._bRenderPdfContent);t._objectsRegister[n]=function(){r.setEnabled(t._bRenderPdfContent);return r};return r}}}};return d},true);