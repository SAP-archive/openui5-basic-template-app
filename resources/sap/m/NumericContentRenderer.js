/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/library"],function(e){"use strict";var a=sap.ui.getCore().getLibraryResourceBundle("sap.m");var t=e.ValueColor;var s={apiVersion:2};s.render=function(t,s){var r=s.getState();var n=s.getWithMargin();var l=n?"":"WithoutMargin";t.openStart("div",s);var i=s.getTooltip_AsString();if(typeof i!=="string"){i=""}t.attr("aria-label",i);t.attr("role","img");t.attr("aria-roledescription",a.getText("NUMERIC_CONTENT_ROLE_DESCRIPTION"));if(r===e.LoadState.Failed||r===e.LoadState.Loading){t.attr("aria-disabled","true")}if(s.getAnimateTextChange()){t.class("sapMNCAnimation")}if(s.getWidth()){t.style("width",s.getSize())}t.class("sapMNC");t.class(l);if(s.hasListeners("press")){t.attr("tabindex",0);t.class("sapMPointer")}t.openEnd();t.openStart("div");t.class("sapMNCInner");t.class(l);t.openEnd();this._renderValue(t,s,l);t.close("div");t.close("div")};s._prepareAndRenderIcon=function(a,t,s,r){if(s){var n,l=e.LoadState,i=t.getState();for(n in l){if(l.hasOwnProperty(n)&&n!==i){s.removeStyleClass(n)}else if(l.hasOwnProperty(n)&&n===i){s.addStyleClass(n)}}s.addStyleClass("sapMNCIconImage");var o={sapMNCLargeFontSize:false,sapMNCMediumFontSize:false,sapMNCSmallFontSize:false};o[r]=true;Object.keys(o).forEach(function(e){s.toggleStyleClass(e,o[e])});a.renderControl(s)}};s._renderScaleAndIndicator=function(a,t,s,r,n,l){var i=e.DeviationIndicator.None!==t.getIndicator()&&r!=="";var o=n&&r;if(i||o){var d=t.getState();var c=t.getValueColor();a.openStart("div",t.getId()+"-indicator");a.class("sapMNCIndScale");a.class(s);a.class(d);a.class(d);if(l){a.class(l)}a.openEnd();a.renderControl(t._oIndicatorIcon);if(o){a.openStart("div",t.getId()+"-scale");a.class("sapMNCScale");a.class(d);a.class(c);a.openEnd();a.text(n);a.close("div")}a.close("div")}};s._renderValue=function(e,s,r){var n=s.getValue();var l=s.getScale();if(s.getFormatterValue()){var i=s._parseFormattedValue(n);l=i.scale;n=i.value}var o=s.getNullifyValue()?"0":"";e.openStart("div",s.getId()+"-value");e.class("sapMNCValue");e.class(r);if(s.getValueColor()===t.None){e.class(a.getText("SEMANTIC_COLOR_NEUTRAL"))}else{e.class(s.getValueColor())}e.class(s.getState());e.openEnd();var d=s._getMaxDigitsData();this._prepareAndRenderIcon(e,s,s._oIcon,d.fontClass);var c=s.getTruncateValueTo()||d.maxLength;e.openStart("span",s.getId()+"-value-inner");if(d.fontClass){e.class(d.fontClass)}e.openEnd();if(n.length>=c&&(n[c-1]==="."||n[c-1]===",")){e.text(n.substring(0,c-1))}else{e.text(n?n.substring(0,c):o)}e.close("span");this._renderScaleAndIndicator(e,s,r,n,l,d.fontClass);e.close("div")};return s},true);