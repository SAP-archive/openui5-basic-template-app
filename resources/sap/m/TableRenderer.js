/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Renderer","./ListBaseRenderer","./ColumnListItemRenderer","sap/m/library","sap/base/security/encodeXML"],function(e,t,i,r,a){"use strict";var s=r.ListKeyboardMode;var d=e.extend(t);var l=sap.ui.getCore().getConfiguration().getRTL();d.columnAlign={left:l?"flex-end":"flex-start",center:"center",right:l?"flex-start":"flex-end"};d.renderColumns=function(e,r,s){var l=0,n=0,o=false,u=false,C=r.getMode(),w=t.ModeOrder[C],b="sapMListTbl",g=r.getId("tbl"),f=s=="Head"?"th":"td",c="t"+s.toLowerCase(),p=r.getColumns(),A=s=="Head"&&r.bActiveHeaders,h=s=="Head"&&p.every(function(e){return!e.getHeader()||!e.getHeader().getVisible()||!e.getVisible()||e.isPopin()||e.isHidden()}),L=s=="Head"&&p.filter(function(e){return e.getVisible()&&!e.isPopin()&&!e.isHidden()}).length==1,H=function(t,i,r){e.write("<");e.write(f);if(f==="th"){e.addClass("sapMTableTH");e.writeAttribute("role",r?"presentation":"columnheader")}else if(r){e.writeAttribute("role","presentation")}r&&e.writeAttribute("aria-hidden","true");i&&e.writeAttribute("id",g+i);e.addClass(b+t);e.writeClasses();e.write("></");e.write(f);e.write(">");l++};e.write("<"+c+">");e.write("<tr");e.writeAttribute("tabindex",-1);e.writeAttribute("id",r.addNavSection(g+s+"er"));if(h){e.addClass("sapMListTblHeaderNone")}else{e.addClass("sapMListTblRow sapMLIBFocusable sapMListTbl"+s+"er");i.addLegacyOutlineClass.call(i,e)}e.writeClasses();e.write(">");H("HighlightCol",s+"Highlight",true);if(w==-1){if(C=="MultiSelect"&&s=="Head"&&!h){e.write("<th");e.addClass("sapMTableTH");e.writeAttribute("aria-hidden","true");e.addClass(b+"SelCol");e.writeAttribute("role","presentation");e.writeClasses();e.write(">");e.renderControl(r._getSelectAllCheckbox());e.write("</th>");l++}else{H("SelCol","",true)}}p.forEach(function(e,t){e.setIndex(-1);e.setInitialOrder(t)});r.getColumns(true).forEach(function(t,i){if(!t.getVisible()){return}if(t.isPopin()){o=true;return}if(t.isHidden()){n++}var r=t["get"+s+"er"](),C=L?"":t.getWidth(),w=t.getStyleClass(true),g=t.getCssAlign();e.write("<"+f);w&&e.addClass(a(w));if(s=="Head"){e.writeElementData(t);e.addClass("sapMTableTH");e.writeAttribute("role","columnheader");var c=t.getSortIndicator().toLowerCase();c!=="none"&&e.writeAttribute("aria-sort",c)}e.addClass(b+"Cell");e.addClass(b+s+"erCell");e.writeAttribute("data-sap-width",t.getWidth());C&&e.addStyle("width",C);if(g&&s!=="Head"){e.addStyle("text-align",g)}e.writeClasses();e.writeStyles();e.write(">");if(r){if(s==="Head"){e.write("<div");e.addClass("sapMColumnHeader");if(A){e.writeAttribute("tabindex",0);e.writeAttribute("role","button");e.writeAttribute("aria-haspopup","dialog");e.addClass("sapMColumnHeaderActive")}if(g){e.addStyle("justify-content",d.columnAlign[g])}e.writeClasses();e.writeStyles();e.write(">");r.addStyleClass("sapMColumnHeaderContent");e.renderControl(r);e.write("</div>")}else{e.renderControl(r)}}if(s=="Head"&&!u){u=!!t.getFooter()}e.write("</"+f+">");t.setIndex(l++)});H("NavCol",s+"Nav",!r._iItemNeedsColumn);if(w==1){H("SelCol","",true)}e.write("</tr></"+c+">");if(s=="Head"){r._hasPopin=o;r._colCount=l-n;r._hasFooter=u;r._headerHidden=h}};d.renderContainerAttributes=function(e,i){e.writeAttribute("role","application");e.writeAttribute("aria-labelledby",this.getAriaAnnouncement("TABLE_CONTAINER_ROLE_DESCRIPTION"));e.addClass("sapMListTblCnt");t.renderContainerAttributes.apply(this,arguments)};d.renderListStartAttributes=function(e,t){e.write("<table");e.addClass("sapMListTbl");if(t.getFixedLayout()===false){e.addStyle("table-layout","auto")}if(t._iItemNeedsColumn){e.addClass("sapMListTblHasNav")}};d.getAriaRole=function(e){return""};d.getAriaLabelledBy=function(e){var i=t.getAriaLabelledBy.call(this,e);var r=this.getAriaAnnouncement("TABLE_ROLE_DESCRIPTION");if(i&&r){return i+" "+r}return r||i};d.renderListHeadAttributes=function(e,t){this.renderColumns(e,t,"Head");e.write("<tbody");e.addClass("sapMListItems");e.addClass("sapMTableTBody");e.writeAttribute("id",t.addNavSection(t.getId("tblBody")));if(t.getAlternateRowColors()){e.addClass(t._getAlternateRowColorsClass())}e.writeClasses();e.write(">")};d.renderListEndAttributes=function(e,t){e.write("</tbody>");t._hasFooter&&this.renderColumns(e,t,"Foot");e.write("</table>")};d.renderNoData=function(e,t){e.write("<tr");e.writeAttribute("tabindex",t.getKeyboardMode()==s.Navigation?-1:0);e.writeAttribute("id",t.getId("nodata"));e.addClass("sapMLIB sapMListTblRow sapMLIBTypeInactive");i.addFocusableClasses.call(i,e);if(!t._headerHidden||!t.getHeaderText()&&!t.getHeaderToolbar()){e.addClass("sapMLIBShowSeparator")}e.writeClasses();e.write(">");e.write("<td");e.writeAttribute("id",t.getId("nodata-text"));e.writeAttribute("colspan",t.getColCount());e.addClass("sapMListTblCell sapMListTblCellNoData");e.writeClasses();e.write(">");e.writeEscaped(t.getNoDataText(true));e.write("</td>");e.write("</tr>")};return d},true);