/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./Button","./Dialog","./Text","./FormattedText","./Link","./VBox","sap/ui/core/IconPool","sap/ui/core/ElementMetadata","sap/ui/core/library","sap/ui/core/Control","sap/m/library","sap/ui/thirdparty/jquery","sap/ui/core/theming/Parameters"],function(e,t,i,n,o,s,a,l,r,c,u,d,f){"use strict";var g=u.DialogType;var O=u.DialogRoleType;var p=r.TextDirection;var I=u.ButtonType;var T=u.TitleAlignment;var S={};S.Action={OK:"OK",CANCEL:"CANCEL",YES:"YES",NO:"NO",ABORT:"ABORT",RETRY:"RETRY",IGNORE:"IGNORE",CLOSE:"CLOSE",DELETE:"DELETE"};S.Icon={NONE:undefined,INFORMATION:"INFORMATION",WARNING:"WARNING",ERROR:"ERROR",SUCCESS:"SUCCESS",QUESTION:"QUESTION"};(function(){var r=S.Action,u=S.Icon;var C=function(){if(S._rb!==sap.ui.getCore().getLibraryResourceBundle("sap.m")){S._rb=sap.ui.getCore().getLibraryResourceBundle("sap.m")}};S.show=function(R,E){var N,x,A,y=null,h=[],M,m,_,B,L,b,v,F={id:l.uid("mbox"),initialFocus:null,textDirection:p.Inherit,verticalScrolling:true,horizontalScrolling:true,details:"",contentWidth:null},w=f.get("_sap_m_Message_Box_Information_Icon")==="true",G=w?"message-information":"hint",K={INFORMATION:"sapMMessageBoxInfo",WARNING:"sapMMessageBoxWarning",ERROR:"sapMMessageBoxError",SUCCESS:"sapMMessageBoxSuccess",QUESTION:"sapMMessageBoxQuestion",STANDARD:"sapMMessageBoxStandard"},D={INFORMATION:a.getIconURI(G),WARNING:a.getIconURI("message-warning"),ERROR:a.getIconURI("message-error"),SUCCESS:a.getIconURI("message-success"),QUESTION:a.getIconURI("question-mark")};C();if(typeof E==="string"||arguments.length>2){m=arguments[1];_=arguments[2];B=arguments[3];L=arguments[4];b=arguments[5];v=arguments[6];E={icon:m,title:_,actions:B,onClose:L,id:b,styleClass:v}}if(E&&E.hasOwnProperty("details")){F.icon=u.INFORMATION;F.emphasizedAction=r.OK;F.actions=[r.OK,r.CANCEL];E=d.extend({},F,E)}E=d.extend({},F,E);if(typeof E.actions!=="undefined"&&!Array.isArray(E.actions)){if(E.emphasizedAction!==null){E.emphasizedAction=E.actions}E.actions=[E.actions]}if(!E.actions||E.actions.length===0){E.emphasizedAction=r.OK;E.actions=[r.OK]}function U(t,i){var n;if(S.Action.hasOwnProperty(t)){n=S._rb.getText("MSGBOX_"+t)}var o=new e({id:l.uid("mbox-btn-"),text:n||t,type:i,press:function(){y=t;N.close()}});return o}var z;for(M=0;M<E.actions.length;M++){z=E.emphasizedAction===E.actions[M]?I.Emphasized:I.Default;h.push(U(E.actions[M],z))}function W(e,t){var i,a,l=new s({items:[t]});if(!e.details){return l}if(typeof e.details=="object"){e.details="<pre>"+JSON.stringify(e.details,null,"\t").replace(/{/gi,"\\{")+"</pre>"}i=(new n).setVisible(false).setHtmlText(e.details);a=new o({text:S._rb.getText("MSGBOX_LINK_TITLE"),press:function(){var e=N.getInitialFocus();N.addAriaLabelledBy(i);i.setVisible(true);a.setVisible(false);N._setInitialFocus();if(!e||e===a.getId()){h[0].focus()}}});a.addStyleClass("sapMMessageBoxLinkText");i.addStyleClass("sapMMessageBoxDetails");l.addItem(a);l.addItem(i);return l}function X(){if(typeof E.onClose==="function"){E.onClose(y)}N.detachAfterClose(X);N.destroy()}function P(){var e=0;var t=null;if(E.initialFocus){if(E.initialFocus instanceof c){t=E.initialFocus}if(typeof E.initialFocus==="string"){for(e=0;e<h.length;e++){if(S.Action.hasOwnProperty(E.initialFocus)){if(S._rb.getText("MSGBOX_"+E.initialFocus).toLowerCase()===h[e].getText().toLowerCase()){t=h[e];break}}else{if(E.initialFocus.toLowerCase()===h[e].getText().toLowerCase()){t=h[e];break}}}}}return t}if(typeof R==="string"){A=new i({textDirection:E.textDirection}).setText(R).addStyleClass("sapMMsgBoxText");x=A}else if(R instanceof c){A=R.addStyleClass("sapMMsgBoxText")}if(E&&E.hasOwnProperty("details")&&E.details!==""){A=W(E,A)}N=new t({id:E.id,type:g.Message,title:E.title,titleAlignment:T.Auto,content:A,icon:D[E.icon],initialFocus:P(),verticalScrolling:E.verticalScrolling,horizontalScrolling:E.horizontalScrolling,afterClose:X,buttons:h,ariaLabelledBy:x?x.getId():undefined,contentWidth:E.contentWidth,closeOnNavigation:E.closeOnNavigation}).addStyleClass("sapMMessageBox");N.setProperty("role",O.AlertDialog);if(K[E.icon]){N.addStyleClass(K[E.icon])}else{N.addStyleClass(K.STANDARD)}if(E.styleClass){N.addStyleClass(E.styleClass)}N.open()};S.alert=function(e,t){C();var i={icon:u.NONE,title:S._rb.getText("MSGBOX_TITLE_ALERT"),emphasizedAction:t&&t.actions?null:r.OK,actions:r.OK,id:l.uid("alert"),initialFocus:null},n,o,s,a;if(typeof t==="function"||arguments.length>2){n=arguments[1];o=arguments[2];s=arguments[3];a=arguments[4];t={onClose:n,title:o,id:s,styleClass:a}}t=d.extend({},i,t);return S.show(e,t)};S.confirm=function(e,t){C();var i={icon:u.QUESTION,title:S._rb.getText("MSGBOX_TITLE_CONFIRM"),emphasizedAction:t&&t.actions?null:r.OK,actions:[r.OK,r.CANCEL],id:l.uid("confirm"),initialFocus:null},n,o,s,a;if(typeof t==="function"||arguments.length>2){n=arguments[1];o=arguments[2];s=arguments[3];a=arguments[4];t={onClose:n,title:o,id:s,styleClass:a}}t=d.extend({},i,t);return S.show(e,t)};S.error=function(e,t){C();var i={icon:u.ERROR,title:S._rb.getText("MSGBOX_TITLE_ERROR"),emphasizedAction:null,actions:r.CLOSE,id:l.uid("error"),initialFocus:null};t=d.extend({},i,t);return S.show(e,t)};S.information=function(e,t){C();var i={icon:u.INFORMATION,title:S._rb.getText("MSGBOX_TITLE_INFO"),emphasizedAction:t&&t.actions?null:r.OK,actions:r.OK,id:l.uid("info"),initialFocus:null};t=d.extend({},i,t);return S.show(e,t)};S.warning=function(e,t){C();var i={icon:u.WARNING,title:S._rb.getText("MSGBOX_TITLE_WARNING"),emphasizedAction:t&&t.actions?null:r.OK,actions:r.OK,id:l.uid("warning"),initialFocus:null};t=d.extend({},i,t);return S.show(e,t)};S.success=function(e,t){C();var i={icon:u.SUCCESS,title:S._rb.getText("MSGBOX_TITLE_SUCCESS"),emphasizedAction:t&&t.actions?null:r.OK,actions:r.OK,id:l.uid("success"),initialFocus:null};t=d.extend({},i,t);return S.show(e,t)}})();return S},true);