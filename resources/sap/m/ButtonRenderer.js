/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/library","sap/ui/core/IconPool","sap/ui/core/ShortcutHintsMixin","sap/m/library","sap/ui/core/InvisibleText"],function(e,t,a,n,i){"use strict";var s=n.ButtonType;var r=n.ButtonAccessibilityType;var c=e.TextDirection;var o=n.BadgeState;var l=e.aria.HasPopup;var p={apiVersion:2};p.render=function(e,n){var i=n.getId();var r=n.getType();var o=n.getEnabled();var l=n.getWidth();var u=n._getTooltip();var b=n._getText();var g=n.getTextDirection();var I=g===c.Inherit;var T=t.getIconURI("nav-back");var A;e.openStart("button",n);e.class("sapMBtnBase");if(!n._isUnstyled()){e.class("sapMBtn");if((r===s.Back||r===s.Up)&&n._getAppliedIcon()&&!b){e.class("sapMBtnBack")}}var B=p.generateAccProps(n);if(this.renderAccessibilityAttributes){this.renderAccessibilityAttributes(e,n,B)}e.accessibilityState(n,B);if(!o){e.attr("disabled","disabled");if(!n._isUnstyled()){e.class("sapMBtnDisabled")}}else{switch(r){case s.Accept:case s.Reject:case s.Emphasized:case s.Attention:e.class("sapMBtnInverted");break;default:break}}if(u&&!a.isDOMIDRegistered(i)){e.attr("title",u)}if(l!=""||l.toLowerCase()==="auto"){e.style("width",l);if(n._getAppliedIcon()&&b){A="4rem"}else{A="2.25rem"}e.style("min-width",A)}d(n,e);e.openEnd();e.openStart("span",i+"-inner");if(!n._isUnstyled()){e.class("sapMBtnInner")}if(n._isHoverable()){e.class("sapMBtnHoverable")}if(o){e.class("sapMFocusable")}if(!n._isUnstyled()){if(b){e.class("sapMBtnText")}if(r===s.Back||r===s.Up){e.class("sapMBtnBack")}if(n._getAppliedIcon()){if(n.getIconFirst()){e.class("sapMBtnIconFirst")}else{e.class("sapMBtnIconLast")}}}if(this.renderButtonAttributes){this.renderButtonAttributes(e,n)}if(!n._isUnstyled()&&r!==""){e.class("sapMBtn"+r)}d(n,e);e.openEnd();if(r===s.Back||r===s.Up){this.writeInternalIconPoolHtml(e,n,T)}if(n.getIconFirst()&&n._getAppliedIcon()){this.writeImgHtml(e,n)}if(b){e.openStart("span",i+"-content");e.class("sapMBtnContent");if(g!==c.Inherit){e.attr("dir",g.toLowerCase())}e.openEnd();if(I){e.openStart("bdi",i+"-BDI-content");e.openEnd()}e.text(b);if(I){e.close("bdi")}e.close("span")}if(!n.getIconFirst()&&n._getAppliedIcon()){this.writeImgHtml(e,n)}e.close("span");if(u){e.openStart("span",i+"-tooltip");e.class("sapUiInvisibleText");e.openEnd();e.text(u);e.close("span")}e.close("button")};p.writeImgHtml=function(e,t){var a=t.getType(),n=t.getIcon(),i=a===s.Back||a===s.Up;if(!n&&i){return}e.renderControl(t._getImage(t.getId()+"-img",t._getAppliedIcon(),t.getActiveIcon(),t.getIconDensityAware()))};p.writeInternalIconPoolHtml=function(e,t,a){e.renderControl(t._getInternalIconBtn(t.getId()+"-iconBtn",a))};function d(e,t){if(e._bExcludeFromTabChain){t.attr("tabindex",-1)}}var u={Accept:"BUTTON_ARIA_TYPE_ACCEPT",Reject:"BUTTON_ARIA_TYPE_REJECT",Attention:"BUTTON_ARIA_TYPE_ATTENTION",Emphasized:"BUTTON_ARIA_TYPE_EMPHASIZED",Critical:"BUTTON_ARIA_TYPE_CRITICAL",Negative:"BUTTON_ARIA_TYPE_NEGATIVE",Success:"BUTTON_ARIA_TYPE_SUCCESS"};p.getButtonTypeAriaLabelId=function(e){return i.getStaticId("sap.m",u[e])};p.getBadgeTextId=function(e){return e._oBadgeData&&e._oBadgeData.value!==""&&e._oBadgeData.state!==o.Disappear?e._getBadgeInvisibleText().getId():""};p.generateAccProps=function(e){var t=e._getText(),a=e.getAriaHasPopup(),n;if(t){n=p.generateTextButtonAccProps(e)}else{n=p.generateIconOnlyButtonAccProps(e)}n["disabled"]=null;n["haspopup"]=a===l.None?null:a.toLowerCase();return n};p.generateIconOnlyButtonAccProps=function(e){var t=p.getButtonTypeAriaLabelId(e.getType()),a=this.getBadgeTextId(e),n=e._getTooltip(),i=e.getId()+"-tooltip",s=e._determineAccessibilityType(),c={},o;switch(s){case r.Default:c["label"]={value:n,append:true};break;case r.Described:c["label"]={value:n,append:true};o=(t+" "+a).trim();o&&(c["describedby"]={value:o,append:true});break;case r.Labelled:c["describedby"]={value:i,append:true};break;case r.Combined:c["describedby"]={value:(i+" "+t+" "+a).trim(),append:true};break;default:break}return c};p.generateTextButtonAccProps=function(e){var t=e.getId(),a=p.getButtonTypeAriaLabelId(e.getType()),n=this.getBadgeTextId(e),i=e._getTooltip()?t+"-tooltip":"",s=t+"-content",c=e._determineAccessibilityType(),o=e._determineSelfReferencePresence(),l={},d;switch(c){case r.Default:i&&(l["describedby"]={value:i,append:true});break;case r.Described:d=(i+" "+a+" "+n).trim();d&&(l["describedby"]={value:d,append:true});break;case r.Labelled:o&&(l["labelledby"]={value:s,append:true});i&&(l["describedby"]={value:i,append:true});break;case r.Combined:d=(i+" "+a+" "+n).trim();d&&(l["describedby"]={value:d,append:true});o&&(l["labelledby"]={value:s,append:true});break;default:break}return l};return p},true);