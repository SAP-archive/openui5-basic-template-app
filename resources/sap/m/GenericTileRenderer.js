/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/library","sap/base/security/encodeCSS"],function(e,o){"use strict";var t=e.GenericTileMode;var a=e.LoadState;var s=e.FrameType;var n=e.ValueColor;var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");var i={apiVersion:2};i.render=function(e,i){var l=i._getTooltipText();var d=i._getAriaText();var c=i.getHeaderImage();var p=i.hasListeners("press");var g=i.getState();var v=o("sapMGTState"+g);var f;var S=i.getFrameType();var T=i.getAriaRoleDescription();var m=i.getAriaRole();var M=S===s.OneByHalf||S===s.TwoByHalf;var h=i.getUrl()&&!i._isInActionScope()&&g!==a.Disabled&&!i._isNavigateActionEnabled()&&!i._isActionMode();if(i._isInActionScope()){f=o("sapMGTScopeActions")}else{f=o("sapMGTScopeDisplay")}if(h){e.openStart("a",i);e.attr("href",i.getUrl());e.attr("rel","noopener noreferrer");e.attr("draggable","false")}else{e.openStart("div",i)}if(l&&g!==a.Loading){e.attr("title",l)}e.class("sapMGT");e.class(v);e.class(f);if(!i._isInActionScope()&&i._bShowActionsView){e.class("sapMGTScopeActions")}if(i._isIconMode()){if(S===s.OneByOne){var I="sapMGTOneByOne"}else if(S===s.TwoByHalf){var I="TwoByHalf"}}e.class(i._isIconMode()?I:S);var u=i.getMode()===t.ArticleMode,y=i.getMode()===t.ActionMode;if(y){e.class("sapMGTActionMode")}if(u){e.class("sapMGTArticleMode")}if(i._isIconMode()){e.class("sapMGTIconMode")}if(!u&&!y&&S===s.OneByOne&&i.getSystemInfo()||i.getAppShortcut()){e.class("tileWithAppInfo")}if(i._isIconMode()){if(S===s.TwoByHalf){e.class("sapMGTTwoByHalf")}else{e.style("background-color",i.getBackgroundColor())}}if(m){e.attr("role",m)}else if(!h){e.attr("role",p?"button":"presentation")}else{e.attr("role","link")}if(g===a.Loaded){e.attr("aria-label",d)}if(T){e.attr("aria-roledescription",T)}else{e.attr("aria-roledescription",r.getText("GENERIC_TILE_ROLE_DESCRIPTION"))}if(g!==a.Disabled){if(!i.isInActionRemoveScope()&&i.getPressEnabled()){e.class("sapMPointer")}if(!i.getPressEnabled()){e.class("sapMAutoPointer")}e.attr("tabindex","0")}if(i.getWidth()){e.style("width",i.getWidth())}if(i.getBackgroundImage()){e.style("background-image","url('"+o(i.getBackgroundImage())+"')");e.class("sapMGTBackgroundImage")}if(i.getMode()===t.HeaderMode){e.class("sapMGTHeaderMode")}e.openEnd();var _=i.getTileContent();var G=_.length;var C=false;var B=false;if(g===a.Loading){if(i._isIconMode()){if(S===s.OneByOne){e.openStart("div").class("sapMGTContentShimmerPlaceholderItemOneByOne");e.class("sapMGTContentShimmerPlaceholderWithDescriptionOneByOne");e.openEnd();e.openStart("div").class("sapMGTContentShimmerPlaceholderRowsOneByOne").openEnd();e.openStart("div").class("sapMGTContentShimmerPlaceholderIconOneByOne").class("sapMGTLoadingShimmer").openEnd().close("div");e.openStart("div").class("sapMGTContentShimmerPlaceholderItemTextOneByOne").class("sapMGTLoadingShimmer").openEnd().close("div")}else{e.openStart("div").class("sapMGTContentShimmerPlaceholderItemTwoByHalf");e.class("sapMGTContentShimmerPlaceholderWithDescriptionTwoByHalf");e.openEnd();e.openStart("div").class("sapMGTContentShimmerPlaceholderRowsTwoByHalf").openEnd();e.openStart("div").class("sapMGTContentShimmerPlaceholderIconTwoByHalf").class("sapMGTLoadingShimmer").openEnd().close("div");e.openStart("div").class("sapMGTContentShimmerPlaceholderItemTextTwoByHalf").class("sapMGTLoadingShimmer").openEnd().close("div")}e.close("div");e.close("div")}else{e.openStart("div").class("sapMGTContentShimmerPlaceholderItem");e.class("sapMGTContentShimmerPlaceholderWithDescription");e.openEnd();e.openStart("div").class("sapMGTContentShimmerPlaceholderRows").openEnd();e.openStart("div").class("sapMGTContentShimmerPlaceholderItemHeader").class("sapMGTLoadingShimmer").openEnd().close("div");e.openStart("div").class("sapMGTContentShimmerPlaceholderItemText").class("sapMGTLoadingShimmer").openEnd().close("div");if(!M){e.openStart("div").class("sapMGTContentShimmerPlaceholderItemBox").class("sapMGTLoadingShimmer").openEnd().close("div");e.openStart("div").class("sapMGTContentShimmerPlaceholderItemTextFooter").class("sapMGTLoadingShimmer").openEnd().close("div")}e.close("div");e.close("div")}}else{if(this._isValueColorValid(i.getValueColor())){e.openStart("div");e.class("sapMGTCriticalBorder");e.class(i.getValueColor());e.openEnd();e.close("div")}if(i._isIconMode()){e.openStart("div");if(S===s.OneByOne){e.class("sapMGTOneByOneIcon")}else{e.class("sapMGTTwoByHalfIcon");e.style("background-color",i.getBackgroundColor())}e.openEnd();if(i.getTileIcon()){var O=i._generateIconAggregation(i.getTileIcon());if(O){e.renderControl(i.getAggregation(O))}}e.close("div")}e.openStart("div");e.class("sapMGTHdrContent");if(i._isIconMode()){if(S===s.OneByOne){var I="sapMGTOneByOne"}else if(S===s.TwoByHalf){var I="TwoByHalf"}}e.class(i._isIconMode()?I:S);if(l){e.attr("title",l)}e.openEnd();if(c){i._oImage.removeStyleClass(n.None);if(this._sPreviousStyleClass){i._oImage.removeStyleClass(this._sPreviousStyleClass)}this._sPreviousStyleClass=this._isValueColorValid(i.getValueColor())?i.getValueColor():n.None;i._oImage.addStyleClass(this._sPreviousStyleClass);e.renderControl(i._oImage)}this._renderHeader(e,i);for(var E=0;E<G;E++){C=i._checkFooter(_[E],i)&&_[E].getFooter();if(_[E].getAggregation("content")!==null){if(S===s.OneByHalf&&_[E].getAggregation("content").getMetadata()._sClassName==="sap.m.ImageContent"){B=false}else{B=true;break}}}if(!(M&&B)){if(i.getSubheader()&&!i._isIconMode()){this._renderSubheader(e,i)}}e.close("div");if(!i._isIconMode()){e.openStart("div",i.getId()+"-content");e.class("sapMGTContent");if(C&&S===s.OneByOne&&(i.getSystemInfo()||i.getAppShortcut())){e.class("appInfoWithFooter")}else{e.class("appInfoWithoutFooter")}e.openEnd();for(var E=0;E<G;E++){e.renderControl(_[E])}e.close("div")}if(!u&&!y&&!i._isIconMode()&&(S===s.OneByOne&&(i.getSystemInfo()||i.getAppShortcut()))){e.openStart("div",i.getId()+"-tInfo");e.class("sapMGTTInfoContainer");e.openEnd();e.openStart("div");e.class("sapMGTTInfo");e.openEnd();if(i.getAppShortcut()){e.openStart("div",i.getId()+"-appShortcut");e.class("sapMGTAppShortcutText").openEnd();e.renderControl(i._oAppShortcut);e.close("div")}if(i.getSystemInfo()){e.openStart("div",i.getId()+"-sytemInfo");e.class("sapMGTSystemInfoText").openEnd();e.renderControl(i._oSystemInfo);e.close("div")}e.close("div");e.close("div")}}if(g!==a.Loaded&&g!==a.Loading){this._renderStateOverlay(e,i,l)}if(g!==a.Disabled){this._renderHoverOverlay(e,i);this._renderFocusDiv(e,i)}if(i._isInActionScope()){this._renderActionsScope(e,i)}if(h){e.close("a")}else{e.close("div")}};i._renderFocusDiv=function(e,o){e.openStart("div",o.getId()+"-focus");e.class("sapMGTFocusDiv");if(o._isIconMode()){if(o.getFrameType()===s.OneByOne){e.style("border-radius","1rem")}else{e.style("border-radius","0.75rem")}}e.openEnd();e.close("div")};i._renderStateOverlay=function(e,o,t){var s=o.getState();e.openStart("div",o.getId()+"-overlay");e.class("sapMGTOverlay");if(t){e.attr("title",t)}e.openEnd();switch(s){case a.Loading:o._oBusy.setBusy(s==a.Loading);e.renderControl(o._oBusy);break;case a.Failed:e.openStart("div",o.getId()+"-failed-ftr");e.class("sapMGenericTileFtrFld");e.openEnd();e.openStart("div",o.getId()+"-failed-icon");e.class("sapMGenericTileFtrFldIcn");e.openEnd();e.renderControl(o._oWarningIcon);e.close("div");if(!o._isInActionScope()&&!o._bShowActionsView){e.openStart("div",o.getId()+"-failed-text");e.class("sapMGenericTileFtrFldTxt");e.openEnd();e.renderControl(o.getAggregation("_failedMessageText"));e.close("div")}e.close("div");break;default:}e.close("div")};i._renderActionsScope=function(e,o){if(o.getState()!==a.Disabled){e.renderControl(o._oRemoveButton);e.renderControl(o._oMoreIcon)}};i._renderHoverOverlay=function(e,o){e.openStart("div",o.getId()+"-hover-overlay");if(o.getBackgroundImage()){e.class("sapMGTWithImageHoverOverlay")}else{e.class("sapMGTWithoutImageHoverOverlay");if(o._isIconMode()){if(o.getFrameType()===s.OneByOne){e.style("border-radius","1rem")}else{e.style("border-radius","0.75rem")}}}e.openEnd();e.close("div")};i._renderHeader=function(e,o){e.openStart("div",o.getId()+"-hdr-text");e.class("sapMGTHdrTxt");e.openEnd();e.renderControl(o._oTitle);e.close("div")};i._renderSubheader=function(e,o){e.openStart("div",o.getId()+"-subHdr-text");e.class("sapMGTSubHdrTxt");e.openEnd();e.renderControl(o._oSubTitle);e.close("div")};i._isValueColorValid=function(e){if(e==n.Good||e==n.Error||e==n.Neutral||e==n.Critical){return true}return false};return i},true);