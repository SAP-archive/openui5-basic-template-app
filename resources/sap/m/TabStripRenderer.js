/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./TabStripItem","sap/ui/Device","sap/ui/core/InvisibleText"],function(e,t,r){"use strict";var i={};i.LEFT_OVERRFLOW_BTN_CLASS_NAME="sapMTSLeftOverflowButtons";i.RIGHT_OVERRFLOW_BTN_CLASS_NAME="sapMTSRightOverflowButtons";i.render=function(e,r){if(!r.getVisible()){return}this.beginTabStrip(e,r);if(t.system.phone===true){this.renderTouchArea(e,r)}else{e.write("<div id='"+r.getId()+"-leftOverflowButtons' class='"+this.LEFT_OVERRFLOW_BTN_CLASS_NAME+"'>");if(r.getAggregation("_leftArrowButton")){this.renderLeftOverflowButtons(e,r,false)}e.write("</div>");this.beginTabsContainer(e,r);this.renderItems(e,r);this.endTabsContainer(e);e.write("<div id='"+r.getId()+"-rightOverflowButtons' class='"+this.RIGHT_OVERRFLOW_BTN_CLASS_NAME+"'>");if(r.getAggregation("_rightArrowButton")){this.renderRightOverflowButtons(e,r,false)}e.write("</div>");this.renderTouchArea(e,r)}this.endTabStrip(e)};i.renderItems=function(e,t){var r=t.getItems(),i=t.getSelectedItem();r.forEach(function(r){var n=i&&i===r.getId();this.renderItem(e,t,r,n)},this)};i.renderItem=function(t,r,i,o){t.write("<div id='"+i.getId()+"'");t.addClass(e.CSS_CLASS);if(i.getModified()){t.addClass(e.CSS_CLASS_MODIFIED)}if(o){t.addClass(e.CSS_CLASS_SELECTED)}t.writeClasses();t.writeElementData(i);t.writeAccessibilityState(i,s(i,r.getParent(),sap.ui.getCore().byId(r.getSelectedItem())));t.write(">");t.write("<span id='"+n(i)+"' class='"+e.CSS_CLASS_LABEL+"'>");this.renderItemText(t,i);t.write("</span>");this.renderItemCloseButton(t,i);t.write("</div>")};i.renderItemText=function(t,r){var i=r.getText();if(i.length>e.DISPLAY_TEXT_MAX_LENGTH){t.writeEscaped(i.slice(0,e.DISPLAY_TEXT_MAX_LENGTH));t.write("...")}else{t.writeEscaped(i)}};i.renderItemCloseButton=function(e,t){e.write("<div class='sapMTSItemCloseBtnCnt'>");e.renderControl(t.getAggregation("_closeButton"));e.write("</div>")};i.beginTabStrip=function(e,t){e.write("<div");e.addClass("sapMTabStrip");e.addClass("sapContrastPlus");e.writeControlData(t);e.writeClasses();e.write(">")};i.endTabStrip=function(e){e.write("</div>")};i.beginTabsContainer=function(e,t){e.write("<div id='"+t.getId()+"-tabsContainer' class='sapMTSTabsContainer'>");e.write("<div id='"+t.getId()+"-tabs'  class='sapMTSTabs'");e.writeAccessibilityState(t,{role:"tablist"});e.write(">")};i.endTabsContainer=function(e){e.write("</div>");e.write("</div>")};i.renderLeftOverflowButtons=function(e,t,r){e.renderControl(t.getAggregation("_leftArrowButton"));if(r){e.flush(t.$("leftOverflowButtons")[0])}};i.renderRightOverflowButtons=function(e,t,r){e.renderControl(t.getAggregation("_rightArrowButton"));if(r){e.flush(t.$("rightOverflowButtons")[0])}};i.renderTouchArea=function(e,t){e.write("<div id='"+t.getId()+"-touchArea'  class='sapMTSTouchArea'>");e.renderControl(t.getAggregation("_select"));e.renderControl(t.getAddButton());e.write("</div>")};function n(e){return e.getId()+"-label"}function s(e,t,i){var s={role:"tab"},o=r.getStaticId("sap.m","TABSTRIP_ITEM_CLOSABLE")+" ";o+=r.getStaticId("sap.m",e.getModified()?"TABSTRIP_ITEM_MODIFIED":"TABSTRIP_ITEM_NOT_MODIFIED");s["describedby"]=o;s["labelledby"]=n(e);if(t&&t.getRenderer&&t.getRenderer().getContentDomId){s["controls"]=t.getRenderer().getContentDomId(t)}if(i&&i.getId()===e.getId()){s["selected"]="true"}else{s["selected"]="false"}return s}return i},true);