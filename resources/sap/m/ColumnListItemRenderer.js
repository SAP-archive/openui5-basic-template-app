/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Renderer","sap/ui/core/library","sap/ui/core/Core","sap/ui/Device","sap/base/Log","./library","./ListItemBaseRenderer"],function(e,t,a,n,r,i,l){"use strict";var s=i.PopinDisplay;var o=t.VerticalAlign;var d=e.extend(l);d.apiVersion=2;d.render=function(e,t){var a=t.getTable();if(!a){return}l.render.apply(this,arguments);if(t.getVisible()&&a.hasPopin()){this.renderPopin(e,t,a)}};d.renderHighlight=function(e,t){e.openStart("td");e.class("sapMListTblHighlightCell");e.attr("role","presentation");e.attr("aria-hidden","true");e.openEnd();l.renderHighlight.apply(this,arguments);e.close("td")};d.renderNavigated=function(e,t){e.openStart("td");e.class("sapMListTblNavigatedCell");e.attr("role","presentation");e.attr("aria-hidden","true");e.openEnd();l.renderNavigated.apply(this,arguments);e.close("td")};d.renderType=function(e,t){e.openStart("td");e.class("sapMListTblNavCol");e.attr("role","presentation");e.attr("aria-hidden","true");e.openEnd();l.renderType.apply(this,arguments);e.close("td")};d.renderModeContent=function(e,t){e.openStart("td");e.class("sapMListTblSelCol");e.attr("role","presentation");e.attr("aria-hidden","true");e.openEnd();l.renderModeContent.apply(this,arguments);e.close("td")};d.renderCounter=function(e,t){};d.getAriaRole=function(e){return""};d.renderLIAttributes=function(e,t){e.class("sapMListTblRow");var a=t.getVAlign();if(a!=o.Inherit){e.class("sapMListTblRow"+a)}var n=t.getTable();if(n&&n.getAlternateRowColors()){var r=n.indexOfItem(t);if(r%2==0){e.class("sapMListTblRowAlternate")}}};d.renderLIContentWrapper=function(e,t){var n=t.getTable();if(!n){return}var i=n.getColumns(true),l=t.getCells();t._destroyClonedHeaders();i.forEach(function(i,s){var o,d=true,p=l[i.getInitialOrder()];if(!i.getVisible()||!p||i.isPopin()){i.setIndex(-1);return}e.openStart("td",t.getId()+"_cell"+s);e.class("sapMListTblCell");e.attr("data-sap-ui-column",i.getId());if(i){var u=i.getStyleClass(true).split(" ");u&&u.forEach(function(t){e.class(t)});o=i.getHeader();if(o){e.attr("headers",i.getId())}if(!n.hasPopin()&&i.getMergeDuplicates()){var c=i.getMergeFunctionName(),g=c.split("#"),b=g[1],C=g[0];if(typeof p[C]!="function"){r.warning("mergeFunctionName property is defined on "+i+" but this is not function of "+p)}else if(n._bRendering||!p.bOutput){var f=i.getLastValue(),L=p[C](b);if(f===L){d=a.getConfiguration().getAccessibility();p.addStyleClass("sapMListTblCellDupCnt");e.class("sapMListTblCellDup")}else{i.setLastValue(L)}}else if(p.hasStyleClass("sapMListTblCellDupCnt")){e.class("sapMListTblCellDup")}}i.getVAlign()!="Inherit"&&e.style("vertical-align",i.getVAlign().toLowerCase());e.style("text-align",i.getCssAlign());if(i.isHidden()){e.style("display","none");e.attr("aria-hidden","true")}}e.openEnd();if(d){this.applyAriaLabelledBy(o,p);e.renderControl(p)}e.close("td")},this)};d.renderDummyCell=function(e,t){e.openStart("td");e.class("sapMListTblDummyCell");e.attr("role","presentation");e.attr("aria-hidden","true");e.openEnd();e.close("td")};d.applyAriaLabelledBy=function(e,t){if(e&&e.getText&&e.getVisible()&&t.getAriaLabelledBy&&(t.getAriaLabelledBy()||[]).indexOf(e.getId())==-1){t.addAriaLabelledBy(e)}};d.renderPopin=function(e,t,n){t.removePopin();e.openStart("tr",t.getPopin());e.class("sapMListTblSubRow");e.attr("tabindex","-1");if(t.isSelectable()){e.attr("aria-selected",t.getSelected())}e.openEnd();this.renderHighlight(e,t);e.openStart("td",t.getId()+"-subcell");e.class("sapMListTblSubRowCell");e.attr("colspan",n.shouldRenderDummyColumn()?n.getColSpan()+1:n.getColSpan());var r=n.getPopinLayout();e.attr("aria-labelledby",this.getAriaAnnouncement(null,"TABLE_POPIN_ROLE_DESCRIPTION"));e.openEnd();e.openStart("div");e.class("sapMListTblSubCnt");e.class("sapMListTblSubCnt"+r);e.openEnd();var i=t.getCells(),l=n.getColumns(true);l.forEach(function(n){if(!n.getVisible()||!n.isPopin()){return}var r=i[n.getInitialOrder()],l=n.getHeader();if(!l&&!r){return}var o=n.getStyleClass().split(" "),d=n.getPopinDisplay();e.openStart("div");e.class("sapMListTblSubCntRow");o&&o.forEach(function(t){e.class(t)});e.openEnd();if(l&&d!=s.WithoutHeader){e.openStart("div").class("sapMListTblSubCntHdr").openEnd();l=l.clone();n.addDependent(l);t._addClonedHeader(l);e.renderControl(l);e.close("div");e.openStart("div").class("sapMListTblSubCntSpr").openEnd();e.text(a.getLibraryResourceBundle("sap.m").getText("TABLE_POPIN_LABEL_COLON"));e.close("div")}if(r){e.openStart("div");e.class("sapMListTblSubCntVal");e.class("sapMListTblSubCntVal"+d);e.openEnd();this.applyAriaLabelledBy(l,r);e.renderControl(r);e.close("div")}e.close("div")},this);e.close("div");e.close("td");this.renderNavigated(e,t);e.close("tr")};d.addLegacyOutlineClass=function(e,t){var a=t.isA("sap.m.Table")?t:t.getTable();if(a&&!a.hasPopin()&&a.shouldRenderDummyColumn()){e.class("sapMTableRowCustomFocus")}};d.renderContentLatter=function(e,t){var a=t.getTable();if(a&&a.shouldRenderDummyColumn()){if(!a.hasPopin()){l.renderContentLatter.apply(this,arguments);d.renderDummyCell(e,a)}else{d.renderDummyCell(e,a);l.renderContentLatter.apply(this,arguments)}}else{l.renderContentLatter.apply(this,arguments)}};return d},true);