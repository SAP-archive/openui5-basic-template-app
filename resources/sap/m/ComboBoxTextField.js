/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./InputBase","./library","sap/ui/core/InvisibleText","sap/ui/core/library","sap/ui/Device","sap/ui/core/LabelEnablement","./ComboBoxTextFieldRenderer"],function(e,t,o,i,r,n,a){"use strict";var p=e.extend("sap.m.ComboBoxTextField",{metadata:{library:"sap.m",properties:{maxWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},showButton:{type:"boolean",group:"Appearance",defaultValue:true}}}});var s=sap.ui.getCore().getLibraryResourceBundle("sap.m");p.prototype.init=function(){e.prototype.init.apply(this,arguments);this.addEndIcon({id:this.getId()+"-arrow",src:"sap-icon://slim-arrow-down",noTabStop:true,alt:s.getText("COMBOBOX_BUTTON"),decorative:false})};p.prototype.getIcon=function(){return this.getAggregation("_endIcon")[0]};p.prototype.toggleIconPressedStyle=function(t){this.toggleStyleClass(e.ICON_PRESSED_CSS_CLASS,t)};p.prototype.onBeforeRendering=function(){e.prototype.onBeforeRendering.apply(this,arguments);var t=n.getReferencingLabels(this)||[],o=this.getIcon();o.setVisible(this.getShowButton());t.forEach(function(e){if(o.getAriaLabelledBy().indexOf(e)===-1){o.addAssociation("ariaLabelledBy",e,true)}},this)};p.prototype.getOpenArea=function(){var e=this.getIcon().getDomRef();return e?e.parentNode:e};p.prototype.onsapenter=function(t){e.prototype.onsapenter.apply(this,arguments);if(!this.getEnabled()||!this.getEditable()){return}this._bCheckDomValue&&t.setMarked();var o=this.getValue(),i=o.length;this.setValue(o);this.selectText(i,i)};p.prototype.getValue=function(){var e=this.getFocusDomRef();if(e){return e.value}return this.getProperty("value")};p.prototype.getDomRefForValueStateMessage=function(){return this.getDomRef()};p.prototype.getAccessibilityInfo=function(){var t=e.prototype.getAccessibilityInfo.apply(this,arguments);t.type=s.getText("ACC_CTR_TYPE_COMBO");return t};p.prototype.exit=function(){e.prototype.exit.apply(this,arguments)};return p});