/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/mvc/View","sap/ui/core/Component","sap/ui/core/routing/HashChanger"],function(e,t,n){"use strict";return{_getObjectWithGlobalId:function(n,a,i,r){var o=this,s,u,c,h=this._oComponent,f=[];i=i||{};function d(){switch(a){case"View":n.viewName=n.name;delete n.name;return!n.async||r?e._legacyCreate(n):e.create(n);case"Component":n.settings=n.settings||{};n.settings._propagateTitle=i.propagateTitle;var s=o._createRouterHashChanger(i.prefix);if(s){n.settings._routerHashChanger=s}if(n.usage){return h.createComponent(n)}else{return t.create(n)}break;default:}}function g(e){if(o._oCache){f.forEach(function(t){c[t]=e});if(i.afterCreate){i.afterCreate(e)}o.fireCreated({object:e,type:a,options:n})}return e}if(n.async===undefined){n.async=true}u=n.usage||n.name;this._checkName(u,a);c=this._oCache[a.toLowerCase()][u];s=c&&c[n.id];if(s){return s}if(h){s=h.runAsOwner(d)}else{s=d()}if(s instanceof Promise){s=s.then(g)}else{s.loaded().then(g)}if(!c){c=this._oCache[a.toLowerCase()][u]={};c[undefined]=s;f.push(undefined)}if(n.id!==undefined){c[n.id]=s;f.push(n.id)}return s},_getViewWithGlobalId:function(e,t){if(e&&!e.name){e.name=e.viewName}return this._getObjectWithGlobalId(e,"View",undefined,t)},_getComponentWithGlobalId:function(e,t){return this._getObjectWithGlobalId(e,"Component",t)},_createRouterHashChanger:function(e){var t;var a=this._oComponent&&this._oComponent.getRouter();if(a){t=a.getHashChanger();if(t&&e){t=t.createSubHashChanger(e)}}return t||n.getInstance().createRouterHashChanger()}}});