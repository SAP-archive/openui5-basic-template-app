/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./Element","sap/base/assert","sap/base/Log","sap/ui/thirdparty/jquery"],function(s,t,e,i){"use strict";var a=/\s/;var l=/\S+/g;var r=function(){if(!(this instanceof s)){return}var r=this.clone;this.clone=function(){var s=r.apply(this,arguments);if(this.aCustomStyleClasses){s.aCustomStyleClasses=this.aCustomStyleClasses.slice()}if(this.mCustomStyleClassMap){s.mCustomStyleClassMap=Object.assign(Object.create(null),this.mCustomStyleClassMap)}return s};this.addStyleClass=function(s,e){t(typeof s==="string","sStyleClass must be a string");if(!s||typeof s!=="string"||s.indexOf('"')>-1||s.indexOf("'")>-1){return this}var a=this.aCustomStyleClasses||(this.aCustomStyleClasses=[]),r=this.mCustomStyleClassMap||(this.mCustomStyleClassMap=Object.create(null)),n,o=false,h=[],C=u();function y(s){if(!r[s]){r[s]=true;a.push(s);if(C&&C.indexOf(s)>-1){h.push(s)}o=true}}n=s.match(l);n&&n.forEach(y);if(!o){return this}var m=this.getDomRef();if(m){i(m).addClass(n)}else if(e===false){this.invalidate()}if(h.length>0){f(this,h,true)}return this};this.removeStyleClass=function(s,e){t(typeof s==="string","sStyleClass must be a string");if(!s||typeof s!=="string"||!this.aCustomStyleClasses||!this.mCustomStyleClassMap){return this}var a=this.aCustomStyleClasses,r=this.mCustomStyleClassMap,n,o=false,h=[],C=u(),y;function m(s){if(r[s]){o=true;y=a.indexOf(s);if(y!==-1){a.splice(y,1);delete r[s];if(C&&C.indexOf(s)>-1){h.push(s)}}}}n=s.match(l);n&&n.forEach(m);if(o){var S=this.getDomRef();if(S){i(S).removeClass(n)}else if(e===false){this.invalidate()}if(h.length>0){f(this,h,false)}}return this};this.toggleStyleClass=function(s,i){t(typeof s==="string","sStyleClass must be a string");if(s&&typeof s==="string"){if(i===true){this.addStyleClass(s)}else if(i===false){this.removeStyleClass(s)}else if(i===undefined){this.hasStyleClass(s)?this.removeStyleClass(s):this.addStyleClass(s)}else{e.warning(this.toString()+"- toggleStyleClass(): bAdd should be a boolean or undefined, but is '"+i+"'")}}return this};this.hasStyleClass=function(s){t(typeof s==="string","sStyleClass must be a string");if(s&&typeof s==="string"&&this.mCustomStyleClassMap){if(a.test(s)){var e=s.match(l);return e!=null&&e.every(function(s){return this.mCustomStyleClassMap[s]},this)}else{return!!this.mCustomStyleClassMap[s]}}return false};this.getMetadata().addPublicMethods(["addStyleClass","removeStyleClass","toggleStyleClass","hasStyleClass"])};var n;function u(){if(!n){n=sap.ui.require("sap/ui/core/theming/Parameters")}if(n){return n._getScopes(true)}}function f(s,t,e){sap.ui.getCore().fireThemeScopingChanged({scopes:t,added:e,element:s})}return r},true);