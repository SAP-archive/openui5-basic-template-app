/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./Element","sap/base/assert","sap/base/Log","sap/ui/Device"],function(s,t,e,i){"use strict";var a=/\s/;var l=/\S+/g;var r=DOMTokenList.prototype.add,n=DOMTokenList.prototype.remove;if(i.browser.msie){r=function(){for(var s=0;s<arguments.length;s++){this.add(arguments[s])}};n=function(){for(var s=0;s<arguments.length;s++){this.remove(arguments[s])}}}var o=function(){if(!(this instanceof s)){return}var i=this.clone;this.clone=function(){var s=i.apply(this,arguments);if(this.aCustomStyleClasses){s.aCustomStyleClasses=this.aCustomStyleClasses.slice()}if(this.mCustomStyleClassMap){s.mCustomStyleClassMap=Object.assign(Object.create(null),this.mCustomStyleClassMap)}return s};this.addStyleClass=function(s,e){t(typeof s==="string","sStyleClass must be a string");if(!s||typeof s!=="string"||s.indexOf('"')>-1||s.indexOf("'")>-1){return this}var i=this.aCustomStyleClasses||(this.aCustomStyleClasses=[]),n=this.mCustomStyleClassMap||(this.mCustomStyleClassMap=Object.create(null)),o,f=false,C=[],m=u();function y(s){if(!n[s]){n[s]=true;i.push(s);if(m&&m.indexOf(s)>-1){C.push(s)}f=true}}if(a.test(s)){o=s.match(l);o&&o.forEach(y)}else{y(s)}if(!f){return this}var p=this.getDomRef();if(p){if(o){r.apply(p.classList,o)}else{p.classList.add(s)}}else if(e===false){this.invalidate()}if(C.length>0){h(this,C,true)}return this};this.removeStyleClass=function(s,e){t(typeof s==="string","sStyleClass must be a string");if(!s||typeof s!=="string"||!this.aCustomStyleClasses||!this.mCustomStyleClassMap){return this}var i=this.aCustomStyleClasses,r=this.mCustomStyleClassMap,o,f=false,C=[],m=u(),y;function p(s){if(r[s]){f=true;y=i.indexOf(s);if(y!==-1){i.splice(y,1);delete r[s];if(m&&m.indexOf(s)>-1){C.push(s)}}}}if(a.test(s)){o=s.match(l);o&&o.forEach(p)}else{p(s)}if(f){var c=this.getDomRef();if(c){if(o){n.apply(c.classList,o)}else{c.classList.remove(s)}}else if(e===false){this.invalidate()}if(C.length>0){h(this,C,false)}}return this};this.toggleStyleClass=function(s,i){t(typeof s==="string","sStyleClass must be a string");if(s&&typeof s==="string"){if(i===true){this.addStyleClass(s)}else if(i===false){this.removeStyleClass(s)}else if(i===undefined){this.hasStyleClass(s)?this.removeStyleClass(s):this.addStyleClass(s)}else{e.warning(this.toString()+"- toggleStyleClass(): bAdd should be a boolean or undefined, but is '"+i+"'")}}return this};this.hasStyleClass=function(s){t(typeof s==="string","sStyleClass must be a string");if(s&&typeof s==="string"&&this.mCustomStyleClassMap){if(a.test(s)){var e=s.match(l);return e!=null&&e.every(function(s){return this.mCustomStyleClassMap[s]},this)}else{return!!this.mCustomStyleClassMap[s]}}return false};this.getMetadata().addPublicMethods(["addStyleClass","removeStyleClass","toggleStyleClass","hasStyleClass"])};var f;function u(){if(!f){f=sap.ui.require("sap/ui/core/theming/Parameters")}if(f){return f._getScopes(true)}}function h(s,t,e){sap.ui.getCore().fireThemeScopingChanged({scopes:t,added:e,element:s})}return o},true);