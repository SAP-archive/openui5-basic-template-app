/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/support/library","./CoreHelper.support","sap/ui/thirdparty/jquery","sap/ui/dom/jquery/control"],function(e,t,o){"use strict";var s=sap.ui.require("sap/base/Log");if(!s){s=o.sap.log}var r=e.Categories;var a=e.Severity;var n=e.Audiences;var i={id:"cssCheckCustomStyles",audiences:[n.Application],categories:[r.Consistency],enabled:true,minversion:"1.38",title:"CSS modifications - List of custom styles",description:"Checks and report for custom CSS files/styles that overwrite standard UI5 control's CSS values ",resolution:"Avoid CSS manipulations with custom CSS values as this could lead to rendering issues ",resolutionurls:[{text:"CSS Styling Issues",href:"https://openui5.hana.ondemand.com/#/topic/9d87f925dfbb4e99b9e2963693aa00ef"},{text:"General Guidelines",href:"https://openui5.hana.ondemand.com/#/topic/5e08ff90b7434990bcb459513d8c52c4"}],check:function(e,o,s){var r="Following stylesheet file(s) contain 'custom' CSS that could affects (overwrites) UI5 controls' own styles: \n",n=t.getExternalStyleSheets(),i=0;n.forEach(function(e){var o=false;Array.from(e.rules).forEach(function(e){var r=e.selectorText,a=document.querySelectorAll(r);a.forEach(function(e){var r=t.nodeHasUI5ParentControl(e,s);if(r){o=true}})});if(o){r+="- "+t.getStyleSheetName(e)+"\n";i++}});if(i>0){e.addIssue({severity:a.Medium,details:r,context:{id:"WEBPAGE"}})}}};var c={id:"cssCheckCustomStylesThatAffectControls",audiences:[n.Application],categories:[r.Consistency],enabled:true,minversion:"1.38",title:"CSS modifications - List of affected controls",description:"Checks and report all overwritten standard control's CSS values ",resolution:"Avoid CSS manipulations with custom CSS values as this could lead to rendering issues ",resolutionurls:[{text:"CSS Styling Issues",href:"https://openui5.hana.ondemand.com/#/topic/9d87f925dfbb4e99b9e2963693aa00ef"},{text:"General Guidelines",href:"https://openui5.hana.ondemand.com/#/topic/5e08ff90b7434990bcb459513d8c52c4"}],check:function(e,s,r){var n={},i=t.getExternalStyleSheets();i.forEach(function(e){Array.from(e.rules).forEach(function(s){var a=s.selectorText,i=document.querySelectorAll(a);i.forEach(function(s){var i=t.nodeHasUI5ParentControl(s,r);if(i){var c=o(s).control()[0];if(!n.hasOwnProperty(c.getId())){n[c.getId()]=""}var u=t.getStyleSource(e);n[c.getId()]+="'"+a+"'"+" from "+u+",\n"}})})});Object.keys(n).forEach(function(t){e.addIssue({severity:a.Low,details:"The following selector(s) "+n[t]+" affects standard style setting for control",context:{id:t}})})}};var u={id:"checkForLegacyParametersGet",audiences:[n.Control],categories:[r.Performance],enabled:true,minversion:"1.87",title:"Legacy sap.ui.core.theming.Parameters#get API",description:"Checks usage of the legecy variant of the Parameters.get API",resolution:"Use asynchronous variant of the Parameters.get API",resolutionurls:[{text:"Parameters.get API Reference",href:"https://openui5.hana.ondemand.com/api/sap.ui.core.theming.Parameters#methods/sap.ui.core.theming.Parameters.get"}],check:function(e,t,o){var s=o.getLoggedObjects("LegacyParametersGet");s.forEach(function(t){e.addIssue({severity:a.Medium,details:t.message,context:{id:"WEBPAGE"}})})}};return[u,i,c]},true);