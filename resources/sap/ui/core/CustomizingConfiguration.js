/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./Core","./Component","sap/base/Log","sap/base/util/extend","sap/base/util/ObjectPath","sap/base/util/isEmptyObject"],function(n,t,e,i,o,a){"use strict";var r="sap.ui.viewReplacements",u="sap.ui.viewExtensions",s="sap.ui.viewModifications",f="sap.ui.controllerExtensions",g="sap.ui.controllerReplacements";var c={};function p(n,e,i){var o=e&&typeof e==="string"?e:e&&t.getOwnerIdFor(e);if(o){var a=t.get(o);var r=a&&a.getMetadata().getComponentName();var u=c[r+"::"+o];if(u&&u[n]&&i(u[n])){return false}else{u=c[r];if(u&&u[n]&&i(u[n])){return false}}}else{for(r in c){u=c[r];if(u&&u[n]&&i(u[n])){break}}}}var m={log:function(){if(window.console){window.console.log(c)}},activateForComponent:function(n){e.info("CustomizingConfiguration: activateForComponent('"+n+"')");var t=n+".Component";sap.ui.requireSync(t.replace(/\./g,"/"));var i=o.get(t).getMetadata().getCustomizing();c[n]=i;e.debug("CustomizingConfiguration: customizing configuration for component '"+n+"' loaded: "+JSON.stringify(i))},deactivateForComponent:function(n){if(c[n]){e.info("CustomizingConfiguration: deactivateForComponent('"+n+"')");delete c[n]}},activateForComponentInstance:function(n){e.info("CustomizingConfiguration: activateForComponentInstance('"+n.getId()+"')");var t=n.getMetadata().getComponentName(),i=t+"::"+n.getId(),o=n.getManifest()["sap.ui5"]&&n.getManifest()["sap.ui5"]["extends"]&&n.getManifest()["sap.ui5"]["extends"]["extensions"];c[i]=o;e.debug("CustomizingConfiguration: customizing configuration for component '"+i+"' loaded: "+JSON.stringify(o))},deactivateForComponentInstance:function(n){var t=n.getMetadata().getComponentName(),i=t+"::"+n.getId();if(c[i]){e.info("CustomizingConfiguration: deactivateForComponent('"+i+"')");delete c[i]}},getViewReplacement:function(n,t){var e;p(r,t,function(t){e=t[n];return!!e});return e},getViewExtension:function(n,t,e){var i;p(u,e,function(e){i=e[n]&&e[n][t];return!!i});return i},getControllerExtension:function(n,t){var e;p(f,t,function(t){e=t[n];return!!e});return e},getControllerReplacement:function(n,t){var e;p(g,t,function(t){e=t[n];return!!e});return e},getCustomProperties:function(n,t,o){var a;p(s,o,function(o){var r=o[n]&&o[n][t];var u={};var s=false;var f,g;if(r){for(g in r){f=r[g];if(g==="visible"){s=true;u[g]=f;e.info("Customizing: custom value for property '"+g+"' of control '"+t+"' in View '"+n+"' applied: "+f)}else{e.warning("Customizing: custom value for property '"+g+"' of control '"+t+"' in View '"+n+"' ignored: only the 'visible' property can be customized.")}}if(s){a=a||{};i(a,u)}}});return a},hasCustomProperties:function(n,t){var e={};p(s,t,function(t){if(!!t[n]){e=t[n]}});return!a(e)}};if(sap.ui.getCore().getConfiguration().getDisableCustomizing()){e.info("CustomizingConfiguration: disabling Customizing now");for(var l in m){if(typeof m[l]==="function"){m[l]=function(){}}}}return m},true);