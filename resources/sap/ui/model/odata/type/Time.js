/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/Log","sap/base/util/extend","sap/ui/core/format/DateFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(t,e,n,o,r,i,a){"use strict";var u={__edmType:"Edm.Time",ms:86398e3},s={format:d,parse:c};function l(t){return sap.ui.getCore().getLibraryResourceBundle().getText("EnterTime",[t.formatValue(u,"string")])}function m(t){var o;if(!t.oFormat){o=e({strictParsing:true},t.oFormatOptions);o.UTC=true;t.oFormat=n.getTimeInstance(o)}return t.oFormat}function p(t){return typeof t==="object"&&t.__edmType==="Edm.Time"&&typeof t.ms==="number"}function f(e,n){var o;e.oConstraints=undefined;if(n){o=n.nullable;if(o===false||o==="false"){e.oConstraints={nullable:false}}else if(o!==undefined&&o!==true&&o!=="true"){t.warning("Illegal nullable: "+o,null,e.getName())}}}function c(t){if(!p(t)){throw new o("Illegal sap.ui.model.odata.type.Time value: "+g(t))}return new Date(t.ms)}function d(t){return{__edmType:"Edm.Time",ms:((t.getUTCHours()*60+t.getUTCMinutes())*60+t.getUTCSeconds())*1e3+t.getUTCMilliseconds()}}function g(t){try{return JSON.stringify(t)}catch(e){return String(t)}}var h=a.extend("sap.ui.model.odata.type.Time",{constructor:function(t,e){a.apply(this,arguments);f(this,e);this.oFormatOptions=t}});h.prototype.formatValue=function(t,e){if(t===undefined||t===null){return null}switch(this.getPrimitiveType(e)){case"any":return t;case"string":return m(this).format(c(t));default:throw new o("Don't know how to format "+this.getName()+" to "+e)}};h.prototype.getModelFormat=function(){return s};h.prototype.getName=function(){return"sap.ui.model.odata.type.Time"};h.prototype.parseValue=function(t,e){var n;if(t===""||t===null){return null}if(this.getPrimitiveType(e)!=="string"){throw new r("Don't know how to parse "+this.getName()+" from "+e)}n=m(this).parse(t);if(!n){throw new r(l(this))}return d(n)};h.prototype.validateValue=function(t){if(t===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new i(l(this))}return}if(!p(t)){throw new i("Illegal "+this.getName()+" value: "+g(t))}};h.prototype._handleLocalizationChange=function(){this.oFormat=null};return h});