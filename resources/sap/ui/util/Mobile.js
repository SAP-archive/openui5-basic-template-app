/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/Device","sap/base/Log","sap/ui/thirdparty/jquery"],function(e,n,o){"use strict";var t={};var i=false;t.init=function(n){var a=o("head");if(!i){i=true;n=o.extend({},{viewport:true,statusBar:"default",hideBrowser:true,preventScroll:true,preventPhoneNumberDetection:true,useFullScreenHeight:true,homeIconPrecomposed:false,mobileWebAppCapable:"default"},n);if(e.os.ios&&n.preventPhoneNumberDetection){a.append(o('<meta name="format-detection" content="telephone=no">'))}if(n.viewport){var p;var r=e.resize.height;var c=e.resize.width;p="width=device-width, initial-scale=1.0";a.append(o('<meta name="viewport" content="'+p+'">'));if((r!==window.innerHeight||c!==window.innerWidth)&&e.resize._update){e.resize._update()}}if(n.mobileWebAppCapable==="default"){if(e.os.ios){a.append(o('<meta name="apple-mobile-web-app-capable" content="yes">'))}}if(e.os.ios){a.append(o('<meta name="apple-mobile-web-app-status-bar-style" content="'+n.statusBar+'">'))}if(n.useFullScreenHeight){o(function(){document.documentElement.style.height="100%"})}if(n.preventScroll&&e.os.ios){o(function(){document.documentElement.style.position="fixed";document.documentElement.style.overflow="hidden";document.documentElement.style.height="100%";document.documentElement.style.width="100%"})}}if(n&&n.homeIcon){var l;if(typeof n.homeIcon==="string"){l={phone:n.homeIcon,favicon:n.homeIcon}}else{l=o.extend({},n.homeIcon);l.phone=n.homeIcon.phone||n.homeIcon.icon||l.favicon;l.favicon=l.favicon||n.homeIcon.icon||n.homeIcon.phone;l.icon=undefined}l.precomposed=n.homeIconPrecomposed||l.precomposed;t.setIcons(l)}if(n&&n.mobileWebAppCapable!=="default"){t.setWebAppCapable(n.mobileWebAppCapable)}};t.setIcons=function(e){if(!e||typeof e!=="object"){n.warning("Call to sap/ui/util/Mobile.setIcons() has been ignored because there were no icons given or the argument was not an object.");return}var t=o("head"),i=e.precomposed?"-precomposed":"",a=function(n){return e[n]||e["tablet@2"]||e["phone@2"]||e["phone"]||e["tablet"]},p={phone:"",tablet:"76x76","phone@2":"120x120","tablet@2":"152x152"};if(e["favicon"]){var r=t.find("[rel=icon]");r.each(function(){if(this.rel==="icon"){o(this).remove()}});t.append(o('<link rel="icon" href="'+e["favicon"]+'">'))}if(a("phone")){t.find("[rel=apple-touch-icon]").remove();t.find("[rel=apple-touch-icon-precomposed]").remove()}for(var c in p){e[c]=e[c]||a(c);if(e[c]){var l=p[c];t.append(o('<link rel="apple-touch-icon'+i+'" '+(l?'sizes="'+l+'"':"")+' href="'+e[c]+'">'))}}};t.setWebAppCapable=function(n){if(!e.system.tablet&&!e.system.phone){return}var t=o("head"),i=["","apple"],a="mobile-web-app-capable",p=n?"yes":"no",r,c,l;for(r=0;r<i.length;r++){c=i[r]?i[r]+"-"+a:a;l=t.children('meta[name="'+c+'"]');if(l.length){l.attr("content",p)}else{t.append(o('<meta name="'+c+'" content="'+p+'">'))}}};return t});