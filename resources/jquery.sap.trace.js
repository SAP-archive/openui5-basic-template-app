/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","sap/ui/performance/trace/Passport","sap/ui/performance/trace/Interaction","sap/ui/performance/trace/FESR","sap/base/Log","sap/ui/Global"],function(t,e,n,a,i){"use strict";function r(){if(!(window.performance&&window.performance.getEntries)){i.warning("Interaction tracking is not supported on browsers with insufficient performance API")}}t.sap.interaction={};t.sap.interaction.setActive=function(){r();n.setActive.apply(this,arguments)};t.sap.interaction.getActive=n.getActive;t.sap.interaction.notifyStepStart=n.notifyStepStart;t.sap.interaction.notifyStepEnd=n.notifyStepEnd;t.sap.interaction.notifyEventStart=n.notifyEventStart;t.sap.interaction.notifyScrollEvent=n.notifyScrollEvent;t.sap.interaction.notifyEventEnd=n.notifyEventEnd;t.sap.interaction.setStepComponent=n.setStepComponent;t.sap.fesr={};t.sap.fesr.setActive=function(){r();a.setActive.apply(this,arguments)};t.sap.fesr.getActive=a.getActive;t.sap.fesr.getCurrentTransactionId=e.getTransactionId;t.sap.fesr.getRootId=e.getRootId;t.sap.fesr.addBusyDuration=n.addBusyDuration;t.sap.passport={};t.sap.passport.setActive=e.setActive;t.sap.passport.traceFlags=e.traceFlags;function s(){var t=!!document.querySelector("meta[name=sap-ui-fesr][content=true]"),e=window.location.search.match(/[\?|&]sap-ui-(?:xx-)?fesr=(true|x|X|false)&?/);if(e){t=e[1]&&e[1]!="false"}return t}t.sap.interaction.notifyStepStart(null,true);a.setActive(s());if(/sap-ui-xx-e2e-trace=(true|x|X)/.test(location.search)){sap.ui.requireSync("sap/ui/core/support/trace/E2eTraceLib")}return t});